<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Receitas da Pô</title>
  <link rel="icon" href="../public/img/logo/logoP-removebg.png">
  <link rel="stylesheet" href="./css/styleIndex.css">
  <script src="js/funcoes.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
  <!-- Menu -->
  <div class="header">
    <div class="container">
      <a href="index.html">
        <img class="logoInicio" src="img/logo/logoP-removebg.png" href="index.html">
      </a>
      <a href="index.html">
        <img class="nomeInicio" src="img/logo/nomeP-removebg.png" href="index.html">
      </a>
      <ul class="navbar menu">
        <li>
          <a class="a_menu" href="login.html">Login</a>
        </li>
        <li>
          <a class="a_menu" href="cadastro.html">Cadastre-se</a>
        </li>
        <li><a class="a_menu" href="#"><img src="img/menu.png"></a>
          <ul>
            <li><a class="a_menu" href="receitas.html">Receitas</a></li>
            <li><a class="a_menu" href="top3.html">Top 3</a></li>
            <li><a class="a_menu" href="comentario.html">Nos avalie!</a></li>
          </ul>
      </ul>
    </div>
  </div>

  <!-- Banner/Carrossel de imagens -->
  <div class="banner">

    <section class="carousel" aria-label="Gallery">
      <ol class="carousel__viewport">
        <li id="carousel__slide1" tabindex="0" class="carousel__slide">
          <div class="carousel__snapper">
            <a href="#carousel__slide2" class="carousel__next">Go to next slide</a>
          </div>
        </li>
        <li id="carousel__slide2" tabindex="0" class="carousel__slide">
          <div class="carousel__snapper"></div>
          <a href="#carousel__slide1" class="carousel__prev">Go to previous slide</a>
        </li>
        <li id="carousel__slide3" tabindex="0" class="carousel__slide">
          <div class="carousel__snapper"></div>
          <a href="#carousel__slide2" class="carousel__prev">Go to previous slide</a>
        </li>
        <li id="carousel__slide4" tabindex="0" class="carousel__slide">
          <div class="carousel__snapper"></div>
          <a href="#carousel__slide1" class="carousel__next">Go to first slide</a>
        </li>
      </ol>
      <aside class="carousel__navigation">
        <ol class="carousel__navigation-list">
          <li class="carousel__navigation-item">
            <a href="#carousel__slide1" class="carousel__navigation-button" onclick="changeColor(this)">Go to slide 1</a>
          </li>
          <li class="carousel__navigation-item">
            <a href="#carousel__slide2" class="carousel__navigation-button" onclick="changeColor(this)">Go to slide 2</a>
          </li>
        </ol>
      </aside>
    </section>

  </div>

  <!-- Fim carrossel  -->

  <!-- Começo Saiba mais -->

  <div class="saibaMais">
    <div class="container">
      <div class="title">
        <p>
          Saiba Mais
        </p>
      </div>
      <div class="blocos">
        <div class="bloco">
          <p>
            Desde pequena sempre gostei de ver meus pais e minha avó cozinhando, lembro de sempre estar perto e querer
            ajudar. Com o tempo, fui crescendo e comecei a ter mais autonomia na cozinha, eu amava assistir vídeos de
            receita e comecei a testar várias quando eu tinha 9 anos.
          </p>
          <p>
            No começo, cozinhar era uma necessidade, já que meus pais são divorciados e na época meu irmão estudava
            integral. Mas era o mais básico (arroz, mistura...), porém, eu sempre amei muito doce e como eu passava a
            tarde toda em casa, acabava inventando receitas pra fazer e poder comer um docinho.
          </p>

        </div>
        <div class="bloco">
          <div class="blocoImg1"><img src="img/food/bolo_choc_reche.jpeg" alt="bolo de chocolate"></div>
        </div>
      </div>

      <div class="blocos">
        <div class="bloco">
          <div class="blocoImg"><img src="img/food/esfiha2.jpeg" alt="esfiha"></div>
        </div>
        <div class="bloco">
          <p>
            Em 2019, comecei a gostar de cozinhar e dar pra pessoas, ver uma pessoa super feliz porque você deu uma
            comida que você fez pra ela, é uma sensação muito boa, aquece o coração.
          </p>
          <p>
            Com o início da pandemia, eu passava muito mais tempo em casa, e meu irmão também. Foi quando ele começou a
            me “incentivar” (querer comer) a fazer coisas novas, foi assim que aprendi muito mais receitas. Aprendi
            também a gostar de fazer o que eu não gostava antes.
          </p>
          <p>
            A maioria das comidas que eu sei fazer, eu vi a receita e me “auto” ensinei. Nesse meio, aprendi que
            cozinhar me dá uma sensação de controle, o que me ajuda quando estou ansiosa.
          </p>
        </div>
      </div>

    </div>
  </div>


  <!-- Nossos Valores -->
  <div class="social">
    <div class="container">
      <div class="boxes">
        <div class="box">
          <img src="img/food/brownie-emb2.jpeg">
          <h4>Bondade</h4>
          <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Et, quas cupiditate asperiores provident magnam
            vitae illum iusto fugiat atque deleniti nulla sed iure suscipit, laborum, aliquid accusantium cum dicta
            minima.</p>
        </div>
        <div class="box">
          <img src="img/food/cupcake.jpeg">
          <h4>Organização</h4>
          <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Et, quas cupiditate asperiores provident magnam
            vitae illum iusto fugiat atque deleniti nulla sed iure suscipit, laborum, aliquid accusantium cum dicta
            minima.</p>
        </div>
        <div class="box">
          <img src="img/food/cookie-brown.jpeg">
          <h4>Detalhista</h4>
          <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Et, quas cupiditate asperiores provident magnam
            vitae illum iusto fugiat atque deleniti nulla sed iure suscipit, laborum, aliquid accusantium cum dicta
            minima.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Gráficos -->

  <!-- <div class="grafico">
    <div class="container1">
      <div class="title">
        <p>
          Qual das minhas receitas é a sua favorita?
        </p>
      </div>
      <div class="top3">
        <div class="lugar">
          <div class="textoBloquinho">
            1°lugar
          </div>
          <div class="bloquinhos">
            Brownie
          </div>
        </div>
        <div class="lugar">
          <div class="textoBloquinho">
            2°lugar
          </div>
          <div class="bloquinhos">
            Cookies
          </div>
        </div>
        <div class="lugar">
          <div class="textoBloquinho">
            3°lugar
          </div>
          <div class="bloquinhos">
            Torta Holandesa
          </div>
        </div>
      </div>
      <div class="graficoImagem">
        <div class="analytics">
          <canvas id="myChart"></canvas>
        </div>
      </div>
    </div>
  </div>

  </div> -->

  <!-- fim grafico -->

  <!-- Fale conosco -->
  <!-- <div class="login">
    <div class="alerta_erro">
        <div class="card_erro" id="cardErro">
            <span id="mensagem_erro"></span>
        </div>
    </div> -->
  <div class="faleConosco">
    <div class="container">
      <div class="title">
        <p>
          Alguma dúvida não foi respondida? Mande para nós
        </p>
      </div>
      <div>
        <textarea id="textarea" cols="30" rows="10" placeholder="Digite aqui..."></textarea>
      </div>
      <div>
        <input type="text" id="input_email"
          placeholder="Coloque seu e-mail aqui para receber a resposta da sua dúvida...">
      </div>
      <button class="botao" onclick="enviar()">
        Enviar
      </button>
      <!-- <div id="divAguardar" class="loading-div">
          <img src="./assets/circle-loading.gif" id="loading-gif">
      </div> -->
    </div>
  </div>

  <!-- Contato -->
  <footer>
    <div class="footer">
      <div class="logoContato">
        <img src="img/logo/logoP-removebg.png" alt="LogoContato">
      </div>
      <div class="titulo1">Serviços</div>
      <div class="textinho">
        <ul>
          <li>Receitas</li>
          <li>Faça seu top 5</li>
          <li>Comentário</li>
        </ul>
      </div>
      <div class="logoInsta">
        <img src="img/insta.png" alt="">
      </div>
      <div class="titulo2">Contatos</div>
      <div class="textinho2">
        <ul>
          <li>Rua Haddock Lobo, 595</li>
          <li>Email: paola.gomes@sptech.school</li>
        </ul>
      </div>
      <div class="consideracoes">
        2023 - made by Paola Gomes
      </div>
    </div>
  </footer>
</body>
</html>

<script>

var botaoCarrossel = document.querySelectorAll('.carousel__navigation-button');

function changeColor(clickedButton) {
  botaoCarrossel.forEach(function(botaoCarrossel) {
    botaoCarrossel.classList.remove('active');
  });

  clickedButton.classList.add('active');
}


  function enviar() {

    // aguardar();

    var descricaoVar = textarea.value;
    var emailVar = input_email.value;

    if (descricaoVar == "" || emailVar == "") {
      // cardErro.style.display = "block"
      // mensagem_erro.innerHTML = "(Mensagem de erro para todos os campos em branco)";

      // finalizarAguardar();
      return false;
    }
    else {
      setInterval(5000);
    }

    if (descricaoVar.length > 100) {
      cardErro.style.display = "block"
      mensagem_erro.innerHTML = "(A descrição tem que ter até 100 caracteres)";

      finalizarAguardar();
      return false;
    } else {
      setInterval(sumirMensagem, 5000)
    }

    if (emailVar.search("@") == -1) {
      cardErro.style.display = "block"
      mensagem_erro.innerHTML = "(O Email deve conter @)";
      finalizarAguardar();
      return false;
    } else {
      setInterval(sumirMensagem, 5000)
    }

    if (emailVar.search(".com") == -1) {
      cardErro.style.display = "block"
      mensagem_erro.innerHTML = "(O Email deve conter .com)";
      finalizarAguardar();
      return false;
    } else {
      setInterval(sumirMensagem, 5000)
    }

    fetch("/faleConosco/enviar", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        // crie um atributo que recebe o valor recuperado aqui
        // Agora vá para o arquivo routes/usuario.js
        descricaoServer: descricaoVar,
        emailServer: emailVar
      })
    }).then(function (resposta) {

      console.log("resposta: ", resposta);

      if (resposta.ok) {
        // cardErro.style.display = "block";

        // mensagem_erro.innerHTML = "Dúvida enviada Redirecionando para tela de Login...";

        // setTimeout(() => {
        //   window.location = "index.html";
        // }, "2000")

        alert("Sua dúvida foi enviada com sucesso :)")

        // limparFormulario();
        // finalizarAguardar();
      }
      // else {
      //     throw ("Houve um erro ao tentar realizar o cadastro!");
      // }
    }).catch(function (resposta) {
      console.log(`#ERRO: ${resposta}`);
      // finalizarAguardar();
    });

    return false;
  }

  // function sumirMensagem() {
  //     cardErro.style.display = "none"
  // }

  // const ctx = document.getElementById('myChart');

  // new Chart(ctx, {
  //   type: 'pie',
  //   data: {
  //     labels: [
  //       'Cookies',
  //       'Torta Holandesa',
  //       'Brownie',
  //       'Torta de limão',
  //       'Casadinho',
  //       'Bolo de chocolate',
  //       'Pão caseiro'
  //     ],
  //     datasets: [{
  //       label: '# of Votes',
  //       data: [
  //         6,
  //         3,
  //         14,
  //         2,
  //         2,
  //         1,
  //         1
  //       ],
  //       borderWidth: 1
  //     }]
  //   },
  // });

</script>